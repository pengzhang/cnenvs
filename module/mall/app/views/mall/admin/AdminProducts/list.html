#{extends 'CRUD/layout.html' /}
#{set title:messages.get('crud.list.title', type.name) /}
<div class="col-sm-9 col-sm-offset-3 col-lg-10 col-lg-offset-2">	
	<div class="row">
		<div class="col-lg-12">
			<div id="crudList" class="${type.name}">
			
			    <h2 id="crudListTitle">&{'crud.list.title', type.name}</h2>
			
			    <div id="crudListSearch">
			        #{crud.search /}
			    </div>
			
			    <div id="crudListTable">
			        #{crud.table fields:['id','product_image','product_num','product_name','product_detail','product_type','product_price','createDate','operation']}
			         	#{crud.custom 'product_detail'}
			         		#{if object.product_detail}
				        		${object.product_detail.htmlText().cutString(200).raw()}
				        	#{/if}
				        #{/crud.custom}
				        #{crud.custom 'product_image'}
				        	<img src="${object.product_image}" width="100" height="100" />
				        #{/crud.custom}
				        #{crud.custom 'product_type'}
				        	${object.product_type=='vip'?'会员商品':'普通商品'}
				        #{/crud.custom}
				         #{crud.custom 'product_price'}
				        	${object.product_price/100} 元
				        #{/crud.custom}
			         	#{crud.custom 'createDate'}
				        	${object.createDate.format('yyyy-MM-dd HH:mm:ss')}
				        #{/crud.custom}
				        #{crud.custom 'operation'}
				     		<a class="btn btn-info btn-sm" href="@{show(object._key())}">编辑</a>
				     	#{/crud.custom}
			        #{/crud.table}
			    </div>
			
			    <div id="crudListPagination">
			        #{crud.pagination /}
			    </div>
			    
			</div>
		</div>
	</div>
</div>
#{set 'moreScripts'}
<script>
	$(function(){
		$('tr th:eq(3)').addClass('col-lg-3');
	})
</script>
#{/set}

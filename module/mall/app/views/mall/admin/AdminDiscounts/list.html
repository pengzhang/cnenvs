#{extends 'CRUD/layout.html' /}
#{set title:messages.get('crud.list.title', type.name) /}
<div class="col-sm-9 col-sm-offset-3 col-lg-10 col-lg-offset-2">	
	<div class="row">
		<div class="col-lg-12">
			<div id="crudList" class="${type.name}">
			
			    <h2 id="crudListTitle">&{'crud.list.title', type.name}</h2>
			
			    <div id="crudListSearch">
			        #{crud.search /}
			    </div>
			
			    <div id="crudListTable">
			        #{crud.table fields:['diskey','discount','generate_num','expire_date','operation']}
				        #{crud.custom 'diskey'}
					        ${object.diskey}
					    #{/crud.custom}
					    #{crud.custom 'expire_date'}
					        ${new Date(object.expire_date).format("yyyy-MM-dd")}
					    #{/crud.custom}
				     	#{crud.custom 'operation'}
				     		#{form @delete(object._key())}
						     <div class="form-group">
						            <input type="submit" class="btn btn-danger" value="&{'crud.delete', type.modelName}" />
						     </div>
						    #{/form}
				    	#{/crud.custom}
			        #{/crud.table}
			    </div>
			
			    <div id="crudListPagination">
			        #{crud.pagination /}
			    </div>
			    
			</div>
		</div>
	</div>
</div>

